第 3部分
设计原则
通常来说，要想构建一个好的软件系统，应i亥从-与整洁的代码开始做起。毕竟’ 如果建筑所使用的砖头质量不佳，那么架构所能起到的作用也会很有限。反之亦然， 
如果建筑的架构设计不佳，那么其所用的砖头质量再好也没有用。这就是SOLID设 
计原则所要解决的问题。架构整洁之道
SOLID原则的主要作用就是告诉我们如何将数据和函数组织成为类，以及如 
将这些类链接起来成为程序。请注意，这里虽然川到了 “类”这个词，但是并;* 
味着我们将要讨论的这些设计原则仅仅适用于而向对象编程。这里的类仅仅代表: 
一种数据和函数的分组，每个软件系统都会有自己的分类系统，不管它们各自是彳 
是将其称为“类 "，事实上都是SOLID原则的适用领域。 '
一般情况下，我们为软件构建中层结构的主要目标如下:
使软件可容忍被改动。
使软件更容易被理解。
构建可在多个软件系统中复用的组件。
我们在这里之所以会使用“中层”这个词，是因为这些设计原则主要适用于那
些进行模块级编程的程序员。SOLID原则应该直接紧贴于具体的代码逻辑之上，这 
些原则是用来帮助我们定义软件架构中的组件和模块的。
当然了，正如用好砖也会盖歪楼一样，采用设计良好的中层组件并不能保证系 
统的整体架构运作良好。正因为如此，我们在讲完SOLID原则之后，还会再继续针 
对组件的设计原则进行更进一步的讨论，将其推进到高级软件架构部分。
SOLID原则的历史已经很悠久了，早在20世纪80年代末期，我在USENET新 
闻 组 （该新闻组在当时就相当于今天的Facebook）上和其他人辩论软件设计理念的 时候，该设计原则就已经开始逐渐成型了。随着时间的推移，其中有一些原则得到 
了修改，有一些则被抛弃了，还有一些被合并了，另外也增加了一些。它们的最终 
形态是在2000年左右形成的，只不过当时采用的是另外一个展现顺序。
2004年前后，Michael Feathers的一封电子邮件提醒我：如果重新排列这些设* 原则，那么它们的首字母可以排列成SOLID—— 这就是SOLID原则诞生的故事。
在这一部分中，我们会逐章地详细讨论每个设计原则，下面先来做一个简单摘 
要。
• SRP：单一职责原则。
MMMK
54第3 部分设计原则
该设计原则是某于康威圧律(Conway's Law) 〔的•个推论 一个软件系 统的最佳结构高度依赖丁开发这个系统的组织的内部结构。这样，每个软件 
模块都有U 只有一个需要被改变金j理由。 • OCP：开闭原则。
该设计原则是由Bertrand Meyer在 20世纪80年代大力推广的,其核心要素 是：如果软件系统想要更容易被改变，那么其设计就必须允许新增代码来修 
改系统行为，而非只能靠修改原来的代码。
• LSP：里氏替换原则。
该设计原则是Barbara Liskov在 1988年提岀的一个著名的子类型定文。简 
单来说，这项原则的意思是如果想用可替换的组件来构建软件系统，那么这 
些组件就必须遵守同一个约定，以便让这些组件可以相互替换。
• ISP：接口隔离原则。
竺
这项设计原则主要告诫软件设计师应该在设计中避免不必要的依赖。
• DIP：依赖反转原则。
该设计原则指出高层策略性的代码不应该依赖实现底层细节的代码，恰恰相 
反，那些实现底层细节的代码应该依赖高层策略性的代码。
这些年来，这些设计原则在很多不同的出版物中都有过详细描述- 在接下来的 
章节中，我们将会主要关注这些原则在软件架构上的意义，而不再重复其细节信息。 
如果你对这些原则并不是特别了解，那么我建议你先通过脚注中的文档熟悉一下它 
们，否则接下来的章节可能有点难以理解。
1 Melvin Conway于 20世纪60年代后期提出，任意一个软件都能反映出其制作团队的组织结构，这是 因为人们会以反映他们组织形式的方式工作。换句话说，分散的团队可能用分散的架构生成系统。项 
目团队的组织结构中的优点和弱点都将不可避免地反映在他们生成的结果系统中。— 编者注
2 例如 Agile Software Development, Principles, Patterns, and Practices. Robert C. Martin, Prentice Hall, 2002, http://www.butunclebob.com/ArticleS.UncleBob.PrinciplesOfOod,以及https://en,wikipedia. org/wiki/SOLID (或者Google搜索SOLID即 可 )。